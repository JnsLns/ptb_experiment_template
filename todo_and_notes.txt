%%%%%%%%%%%%%%%%% NECESSARY CHANGES TO ANALYSIS SCRIPT

% Aborted trials are now stored, i.e., there are now empty trajectory
% matrices in e.trajectories and partially incomplete results rows (nans).
% This has to be dealt with during analysis.

% the triallist is not longer stored in the experimental output. everything
% needed can now be found in e.results.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% GENERAL TODO %%%%%%%%%%%%%%%%%

% Make script for loading trial file and store trial file name in e.s

% IMPORTANT: Test storeResults.m

% Make a setting (in trial generation) to determine whether trials should
% be repeated if aborted. Maybe with maximum number of repetitions.

% For documentation: All variables in fields of struct 'out' will be stored
% to e.results. NOTE: variables in fields of 'out' must be integers or
% column vectors. Also, the objects stored in out must be of same size each
% trial.


% Make similar scheme for trajCols as for resCols? (would simplify dealing
% with different dimensionality of trajectories...)

% Put this somewhere:
% Fields and number of columns for e.s.resCols (struct holding column
% indices of results matrix). Note that all data about the corresponding
% trial is appended to each results row (column indices for these are later
% also added to e.s.resCols).

% Any pseudo-randomization in terms of trial order has to be done when
% constructing the triallists... (i.e., outside the experiment script)

% Enable multisampling for onscreen window (does it have to be enabled for
% offscreen windows separately?), like this (here, 20 samples are used):
% w =  PsychImaging('openWindow', 0, [0 0 0], [100 100 500 500], [], [], [], 20);

% Pointer calibration... validate it in some way before proceeding.

% The checks for starting position being assumed and held throughout
% fixation phase may (didn't test) need some sluggishness over time to not
% be disrupted by marker jumps. on the other hand, bad data should be
% filtered out anyway and replaced by last good data, so that should do the
% trick unless there are types of marker jumps that are not caught by this.

% Color definitions (set below) should be set during trial generation.

% winOn.font = 'Arial' and winOn.fontSize = 25 (currently set below
% somewhere in the code) should be defined in trial generation. Ideally in
% visual angle...
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



